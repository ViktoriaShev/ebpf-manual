
## Что такое eBPF 

eBPF — это революционная технология, берущая начало в ядре Linux, которая позволяет запускать изолированные программы в привилегированном контексте, например, в ядре операционной системы. Она используется для безопасного и эффективного расширения возможностей ядра без необходимости изменять исходный код ядра или загружать модули ядра.

## Преимущества eBPF
Зачем нужен eBPF: ключевые преимущества и применение:

**1. Безопасная модификация ядра без перезагрузки**

Программы eBPF загружаются динамически и проверяются верификатором на безопасность.

**2. Высокопроизводительная сетевая обработка**

Традиционный сетевой стек Linux добавляет задержки (например, для балансировки нагрузки или фильтрации пакетов) поэтому с помощью ebpf можно обрабатывать пакеты на уровне драйвера NIC (до ядерного сетевого стека), ускоряя обработку в 2.5–4.3 раза.

**3. Глубокая наблюдательность (Observability)**

Трассировка любых событий ядра (системные вызовы, сетевые пакеты, планировщик процессов) с минимальными overhead (~1% CPU). Например, bpftrace` позволяет писать скрипты для мониторинга в реальном времени:

 **4. Безопасность и предотвращение атак**

В ebpf есть LSM (Linux Security Module) BPF - привязка к точкам контроля безопасности (например, проверка прав доступа к файлам).

**5. Динамическая фильтрация и анализ трафика**

Фильтрация SYN-флуда с динамическим обновлением правил:

**6. Портативность и универсальность**

 - BTF (BPF Type Format): Позволяет запускать одни и те же программы на разных версиях ядра.

**Почему eBPF — это «суперсила» Linux?**

- Без перезагрузки ядра: Обновление функциональности «на лету».

- Нулевой оверхед: Например, наблюдение за сетью без потерь производительности.

- Универсальность: От трассировки до блокировки атак — все в одной технологии.

- Cloud-Native: Идеально для Kubernetes и микросервисов.

## Общая структура eBPF 
![[Главные составляющие структуры]]